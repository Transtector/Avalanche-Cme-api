@import toggleButton
@import thresholdGauge

.panel-header .widgets
	position absolute
	right 16px
	bottom 10px
	color #fff
	font-size 14px
	div
		display inline-block
		text-align center
		> div
			padding 4px 6px
	> div 
		margin-left 10px
	.clock
		background-color button-bg-color
	.date
		background-color lightness(button-bg-color, 50%)
	.thermometer
		background-color #334
		> div
			margin 0 2px 2px 2px
			padding-bottom 0
			border-bottom 2px solid green
	.thermometer.warn > div
		border-color yellow
	.thermometer.alarm > div
		border-color red

.ch-wrapper
	position relative
	float left	

error-badge-size = 30px
.ch-error-badge
	position absolute
	z-index 2
	text-align center
	top -5px
	right -5px
	width error-badge-size
	height error-badge-size
	line-height error-badge-size
	font-size error-badge-size
	font-weight bold
	border-radius 100%
	color white
	background-color error-color
	box-shadow 0 2px 9px 0 rgba(0,0,0,0.2)	
	opacity 0
	cursor default
	&.error
		opacity 1

.ch
	position relative
	margin 10px
	width 380px
	height 245px
	overflow hidden
	color #fff
	background button-bg-color
	box-shadow 0 2px 9px 0 rgba(0,0,0,0.2)

.ch-header
	padding 0 20px
	white-space nowrap
	overflow hidden
	input[type=text]
		font-size 14px
		color #fff
		text-align left
		background transparent
		border 0px solid transparent
		border-bottom-width 1px
		&:hover, &:focus
			border-color rgba(255,255,255, 0.25)
		&.active
			font-weight bold
		+placeholder()
			color #aaa
			font-style italic
			font-weight normal
		&#name
			width 98px
		&#description
			margin-left 10px
			width 224px
		
.ch-readout
	position relative // for z-index layering
	text-align center
	line-height normal
	margin-top 18px
	.UNIT
		margin-left 0.5em

.ch-readout.primary
	.value
		font-size 48px
	.UNIT
		font-size 38px
	.unit
		font-size 19px

.ch-readout.secondary
	.value
		font-size 34px
	.UNIT
		font-size 27px
	.unit
		font-size 13px

	
.ch-controls
	background lightness(button-bg-color, 50%)
	position absolute
	padding 10px 20px 
	left 0
	right 0
	bottom 0
	height 27px

.btn.ch-history-badge
	position absolute
	display inline-block
	font-size 1em
	width auto
	height auto
	font-weight bold
	padding 6px 8px 6px 46px
	bottom 20px
	right 20px
	background-color #EA9338
	box-shadow 0 1px 1.5px 0 rgba(0, 0, 0, 0.12), 0 1px 1px 0 rgba(0, 0, 0, 0.24)	
	&::before
		content ''
		position absolute
		top 0
		left 0
		width 40px
		height 100%
		background-color lightness(#EA9338, 50%)
		background-repeat no-repeat
		background-image url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='-5 -5 50 40'%3E%3Cpath stroke='%23FFFFFF' stroke-linejoin='round' stroke-linecap='round' fill-opacity='0' d='m2,18l4,-3l4,8l4,-18l4,15l4,-7l4,2l4,-2l4,6l4,-14' /%3E%3C/svg%3E")

.btn.ch-history-badge[disabled]::before
	background-color #909090
	
.ch-history
	position absolute
	top 0
	height 100%
	width 100%
	z-index -1 // hides plot under layers (needed for flot to render plot correctly)
	color fg-color
	background-color #fff
	text-align center		

.ch-history.open
	z-index 1

.ch-history-header, .ch-history-footer
	position relative
	height 24px
	text-align center
	background-color button-bg-color
	> .select-wrapper
		position relative
		top 3px
		display inline-block
		cursor pointer		
	> .select-wrapper select
		position relative
		padding-right 24px
		-webkit-appearance none
		color #fff
		background-color transparent
		background-repeat no-repeat
		background-position-x 100%
		font-size 80%
		font-weight bold
		text-transform uppercase	
		border 0
		border-radius 0
		cursor pointer
		outline none
	.btn
		font-size 80%
		font-weight bold
		text-transform uppercase	
		line-height 100%
		color #fff
		background-color transparent
		width auto
		min-width 24px
		height 24px
	.btn.close
		position absolute
		left 0
		padding-left 30px
		background-position-x 0
	.btn.export
		position absolute
		right 0
	.btn.trace
		position absolute
		padding-left 15px
		background-color transparent
		text-transform none
	.btn.trace.pri
		left 0
	.btn.trace.sec
		right 0
	.btn.trace > span
		position absolute
		top 50%
		margin-top -3px
		left 5px
		width 6px
		height 6px

.ch-history .plot-wrapper
	width 100%
	height 197px
	
.ch-history .plot
	width 100%
	height 100%
	margin 0


/* channel panel icons */
icon-small-viewport = '-512 -512 2048 2048'
.ch
	.icon-download
		background-image svg('download2', icon-small-viewport)
	.icon-chevron-left
		background-image svg('chevron-left', icon-small-viewport)
	.icon-chevron-right
		background-image svg('chevron-right', icon-small-viewport)
	.icon-chevron-down
		background-image svg('chevron-down', '-128 -128 1152 1152') // just slightly smaller
	.icon-cross
		background-image svg('cross', icon-small-viewport)
	
.ch-error
	position absolute
	top	10px
	left 10px
	right 10px
	bottom 10px
	padding 10px
	background-color white
	opacity 0.9
			
.ch-config
	position absolute
	height 100%
	width 100%
	top	0
	right 360px
	transition all 0.3s ease 0s
.ch-config.open
	right -20px

.ch-config > .btn,
.ch-config-content > .btn
	position absolute
	top 0
	height 100%
	width 20px
	padding 0
	background-color transparent
.ch-config > .btn
	right 0

.ch-config-content
	height 100%
	margin-right 20px
	margin-left -20px
	padding 10px
	background-color header-bg-color
	color fg-color
	.title
		font-weight bold
		border-bottom 1px solid #ddd
		margin-bottom 5px
	.errors	> div
		padding 0 10px
	.errors .title
		padding 0 5px
		border 0
		font-style italic
		font-size 85%
	> .btn
		position absolute
		left -20px
		color fg-color


